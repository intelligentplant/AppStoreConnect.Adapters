{
	"info": {
		"_postman_id": "4d2704f8-d746-4369-ad84-8080a02fc2e8",
		"name": "App Store Connect Adapters",
		"description": "Intelligent Plant App Store Connect Adapter API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "v1.0",
			"item": [
				{
					"name": "Host Info",
					"item": [
						{
							"name": "Get Host Information",
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/host-info",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"host-info"
									]
								},
								"description": "Requests host and vendor information about the hosting application."
							},
							"response": []
						}
					],
					"description": "Queries about the hosting application and vendor.",
					"_postman_isSubFolder": true
				},
				{
					"name": "Adapters",
					"item": [
						{
							"name": "Get All Adapters",
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/adapters",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"adapters"
									]
								},
								"description": "Gets information about all of the adapters hosted by the application."
							},
							"response": []
						},
						{
							"name": "Get Adapter",
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/adapters/{{AdapterId}}",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"adapters",
										"{{AdapterId}}"
									]
								},
								"description": "Gets information about the adapter with the specified ID."
							},
							"response": []
						}
					],
					"description": "Queries relating to the hosted adapter or adapters.",
					"_postman_isSubFolder": true
				},
				{
					"name": "Tag Definitions",
					"item": [
						{
							"name": "Get Tags By ID or Name",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\ttags: [\n\t\t\"3D3CB0C7-3578-46E8-B4C1-5BFBA563BF48\",\n\t\t\"Tag3\"\n\t]\n}"
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/tags/{{AdapterId}}/get-by-id",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"tags",
										"{{AdapterId}}",
										"get-by-id"
									]
								},
								"description": "Gets tag definitions for known tags"
							},
							"response": []
						},
						{
							"name": "Find Tags",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"name\": \"*\",\n\t\"description\": \"*\",\n\t\"units\": \"*\",\n\t\"pageSize\": 10,\n\t\"page\": 1\n}"
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/tags/{{AdapterId}}/find",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"tags",
										"{{AdapterId}}",
										"find"
									]
								},
								"description": "Performs a tag search"
							},
							"response": []
						}
					],
					"description": "Tag searches.",
					"_postman_isSubFolder": true
				},
				{
					"name": "Read Tag Data",
					"item": [
						{
							"name": "Read Snapshot Values",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"tags\": [\n\t\t\"3D3CB0C7-3578-46E8-B4C1-5BFBA563BF48\",\n\t\t\"Tag2\"\n\t]\n}"
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/tag-values/{{AdapterId}}/snapshot",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"tag-values",
										"{{AdapterId}}",
										"snapshot"
									]
								},
								"description": "Reads snapshot values for the specified tags."
							},
							"response": []
						},
						{
							"name": "Read Raw Tag Values",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"tags\": [\n\t\t\"3D3CB0C7-3578-46E8-B4C1-5BFBA563BF48\",\n\t\t\"Tag2\"\n\t],\n\t\"utcStartTime\": \"{{StartTime}}\",\n\t\"utcEndTime\": \"{{EndTime}}\",\n\t\"sampleCount\": {{SampleCount}}\n}"
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/tag-values/{{AdapterId}}/raw",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"tag-values",
										"{{AdapterId}}",
										"raw"
									]
								},
								"description": "Reads raw values for the specified tags."
							},
							"response": []
						},
						{
							"name": "Read Plot Tag Values",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"tags\": [\n\t\t\"3D3CB0C7-3578-46E8-B4C1-5BFBA563BF48\",\n\t\t\"Tag2\"\t\n\t],\n\t\"utcStartTime\": \"{{StartTime}}\",\n\t\"utcEndTime\": \"{{EndTime}}\",\n\t\"intervals\": {{SampleCount}}\n}"
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/tag-values/{{AdapterId}}/plot",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"tag-values",
										"{{AdapterId}}",
										"plot"
									]
								},
								"description": "Reads visualization-friendly values for the specified tags."
							},
							"response": []
						},
						{
							"name": "Read Interpolated Tag Values",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"tags\": [\n\t\t\"3D3CB0C7-3578-46E8-B4C1-5BFBA563BF48\",\n\t\t\"Tag2\"\t\n\t],\n\t\"utcStartTime\": \"{{StartTime}}\",\n\t\"utcEndTime\": \"{{EndTime}}\",\n\t\"sampleInterval\": \"{{SampleInterval}}\"\n}"
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/tag-values/{{AdapterId}}/interpolated",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"tag-values",
										"{{AdapterId}}",
										"interpolated"
									]
								},
								"description": "Reads interpolated values for the specified tags."
							},
							"response": []
						},
						{
							"name": "Read Tag Values At Times",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "4381eaa7-a9be-4326-9aa5-8c8d92491ae5",
										"exec": [
											"const ONE_MINUTE = 60000; // ms",
											"",
											"const now = new Date();",
											"const times = [",
											"    new Date(now.valueOf() - (35 * ONE_MINUTE)),",
											"    new Date(now.valueOf() - (17 * ONE_MINUTE)),",
											"    new Date(now.valueOf() - (2 * ONE_MINUTE))",
											"];",
											"",
											"const ts = '[' + times.map(x => `\"${x.toISOString()}\"`) + ']';",
											"pm.environment.set('SampleTimes', ts);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"tags\": [\n\t\t\"3D3CB0C7-3578-46E8-B4C1-5BFBA563BF48\",\n\t\t\"Tag2\"\n\t],\n\t\"utcSampleTimes\": {{SampleTimes}}\n}"
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/tag-values/{{AdapterId}}/values-at-times",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"tag-values",
										"{{AdapterId}}",
										"values-at-times"
									]
								},
								"description": "Reads values for the specified tags at specific timestamps."
							},
							"response": []
						},
						{
							"name": "Read Processed Tag Values",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "dd75a969-fa4d-4285-aa26-e2ef789e9eb3",
										"exec": [
											"const url = `${pm.variables.get('AdapterHost')}/v${pm.variables.get('ApiVersion')}/tag-values/${pm.variables.get('AdapterId')}/supported-aggregations`;",
											"pm.sendRequest(url, function (err, response) {",
											"    const funcs = '[' + response.json().map(x => `\"${x}\"`) + ']';",
											"    pm.environment.set('DataFunctions', funcs);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"tags\": [\n\t\t\"3D3CB0C7-3578-46E8-B4C1-5BFBA563BF48\",\n\t\t\"Tag2\"\t\n\t],\n\t\"utcStartTime\": \"{{StartTime}}\",\n\t\"utcEndTime\": \"{{EndTime}}\",\n\t\"sampleInterval\": \"{{SampleInterval}}\",\n\t\"dataFunctions\": {{DataFunctions}}\n}"
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/tag-values/{{AdapterId}}/processed",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"tag-values",
										"{{AdapterId}}",
										"processed"
									]
								},
								"description": "Reads processed (aggregated) values for the specified tags."
							},
							"response": []
						},
						{
							"name": "Get Available Aggregates",
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/tag-values/{{AdapterId}}/supported-aggregations",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"tag-values",
										"{{AdapterId}}",
										"supported-aggregations"
									]
								},
								"description": "Gets the aggregate functions supported by the adapter."
							},
							"response": []
						}
					],
					"description": "Snapshot and historical data queries.",
					"_postman_isSubFolder": true
				},
				{
					"name": "Read Tag Annotations",
					"item": [
						{
							"name": "Read Tag Annotations",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"tags\": [\n\t\t\"3D3CB0C7-3578-46E8-B4C1-5BFBA563BF48\",\n\t\t\"Tag2\"\t\n\t],\n\t\"utcStartTime\": \"{{StartTime}}\",\n\t\"utcEndTime\": \"{{EndTime}}\"\n}"
								},
								"url": {
									"raw": "{{AdapterHost}}/v{{ApiVersion}}/tag-annotations/{{AdapterId}}",
									"host": [
										"{{AdapterHost}}"
									],
									"path": [
										"v{{ApiVersion}}",
										"tag-annotations",
										"{{AdapterId}}"
									]
								},
								"description": "Reads annotations for the specfied tags."
							},
							"response": []
						}
					],
					"description": "Requests for reading tag value annotations.",
					"_postman_isSubFolder": true
				}
			],
			"description": "Driver Core v1.0 API calls",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "52efc1fd-eed0-4cfe-b0a4-ca1451d5cf47",
						"type": "text/javascript",
						"exec": [
							"pm.environment.set('ApiVersion', '1.0');"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "312a0455-940f-4086-a97b-544a62ba270c",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "0995aad8-93f3-49e3-abb3-aa3a149c5b8c",
				"type": "text/javascript",
				"exec": [
					"const ONE_HOUR = 3600000;",
					"const now = new Date();",
					"",
					"pm.environment.set('StartTime', new Date(now.valueOf() - ONE_HOUR).toISOString());",
					"pm.environment.set('EndTime', now.toISOString());",
					"pm.environment.set('SampleInterval', '00:15:00'); // 15m",
					"pm.environment.set('SampleCount', 20);"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "20404dcf-fc22-4d8c-9cc7-8dbb895d3761",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "0d639d92-e72c-4069-a1f6-9391e99eda33",
			"key": "ApiVersion",
			"value": "1.0",
			"type": "string"
		},
		{
			"id": "af6d6932-b819-4e94-aa65-6396acb1dbf4",
			"key": "AdapterHost",
			"value": "https://localhost:44309/api/data-core",
			"type": "string"
		},
		{
			"id": "f9dcde0d-f788-4567-a923-53ec91530b4f",
			"key": "AdapterId",
			"value": "example",
			"type": "string"
		},
		{
			"id": "fa6bf03f-2f07-4194-89b2-053b54397583",
			"key": "StartTime",
			"value": "",
			"type": "string"
		},
		{
			"id": "1ca09265-49c9-44ed-8ab0-be3f35720214",
			"key": "EndTime",
			"value": "",
			"type": "string"
		},
		{
			"id": "bc6039fe-1f35-4818-90cd-8d017dcec7c2",
			"key": "SampleInterval",
			"value": "",
			"type": "string"
		},
		{
			"id": "a7a2ba8c-6110-4abb-a42d-a50674ea79d0",
			"key": "SampleCount",
			"value": "",
			"type": "string"
		}
	]
}